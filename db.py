import sqlite3
import datetime

def initialize_db():
    conn = sqlite3.connect('scan_history.db')
    c = conn.cursor()
    c.execute('''CREATE TABLE IF NOT EXISTS scans
                 (date TEXT, url TEXT, results TEXT)''')
    conn.commit()
    conn.close()

def save_scan_results(url, results):
    conn = sqlite3.connect('scan_history.db')
    c = conn.cursor()
    c.execute("INSERT INTO scans (date, url, results) VALUES (?, ?, ?)",
              (datetime.datetime.now(), url, str(results)))
    conn.commit()
    conn.close()
